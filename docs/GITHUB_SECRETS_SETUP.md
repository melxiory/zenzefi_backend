# GitHub Secrets Setup Guide

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ GitHub Secrets –¥–ª—è CI/CD –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è.

---

## üìç –ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Settings** (–≤–≤–µ—Ä—Ö—É) ‚Üí **Secrets and variables** (—Å–ª–µ–≤–∞) ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ secret

---

## üîë –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ Secrets

### 1. `DOCKER_USERNAME` - Docker Hub Username

**–ß—Ç–æ —ç—Ç–æ:**
–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Docker Hub –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ Docker –æ–±—Ä–∞–∑–æ–≤.

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**
- –ï—Å–ª–∏ —É –≤–∞—Å **—É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç Docker Hub**:
  - –í–∞—à username –≤–∏–¥–Ω–æ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞ https://hub.docker.com/
  - –ü—Ä–∏–º–µ—Ä: `melxiory`, `myusername`

- –ï—Å–ª–∏ **–Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞**:
  1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: https://hub.docker.com/signup
  2. –í—ã–±–µ—Ä–∏—Ç–µ username (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ `docker pull username/image`)
  3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
melxiory
```
(–ø—Ä–æ—Å—Ç–æ username, –±–µ–∑ @ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤)

---

### 2. `DOCKER_PASSWORD` - Docker Hub Access Token

**–ß—Ç–æ —ç—Ç–æ:**
–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Docker Hub (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º –ø–∞—Ä–æ–ª—å).

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**
1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ https://hub.docker.com/
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∞–≤–∞—Ç–∞—Ä (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª) ‚Üí **Account Settings**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Security** ‚Üí **Access Tokens**
4. –ù–∞–∂–º–∏—Ç–µ **New Access Token**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Description:** `GitHub Actions CI/CD`
   - **Permissions:** `Read, Write, Delete` (–∏–ª–∏ —Ç–æ–ª—å–∫–æ `Read & Write`)
6. –ù–∞–∂–º–∏—Ç–µ **Generate**
7. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –°–†–ê–ó–£ (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
   - –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `dckr_pat_1a2b3c4d5e6f7g8h9i0j...`

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
dckr_pat_1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ):**
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å Docker Hub, –Ω–æ —Ç–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ (–º–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å –±–µ–∑ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è).

---

### 3. `SERVER_HOST` - Production Server IP/Hostname

**–ß—Ç–æ —ç—Ç–æ:**
IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –≤–∞—à–µ–≥–æ production —Å–µ—Ä–≤–µ—Ä–∞.

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **–æ–±–ª–∞—á–Ω—ã–π VPS** (DigitalOcean, Hetzner, AWS, etc.):
  - IP –∞–¥—Ä–µ—Å –ø–æ–∫–∞–∑–∞–Ω –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
  - –ü—Ä–∏–º–µ—Ä: `157.230.12.34` (IPv4) –∏–ª–∏ `2a01:4f8:c17:b8f::1` (IPv6)

- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**:
  - –£–∑–Ω–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π IP: –∑–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `curl ifconfig.me`
  - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è: `api.zenzefi.ru`

- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **Tailscale VPN** (–∫–∞–∫ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ):
  - Tailscale IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: `100.x.y.z` (–ø–æ–∫–∞–∑–∞–Ω –≤ Tailscale admin console)
  - –ò–ª–∏ Tailscale hostname: `zenzefi-server.tail-scale.ts.net`

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
157.230.12.34
```
–∏–ª–∏
```
100.64.123.45
```
–∏–ª–∏
```
api.zenzefi.ru
```

---

### 4. `SERVER_USER` - SSH Username

**–ß—Ç–æ —ç—Ç–æ:**
–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**
- –û–±—ã—á–Ω–æ —ç—Ç–æ `root` –∏–ª–∏ –≤–∞—à username –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∑–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `whoami`
- –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å: `ssh USER@server`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- ‚úÖ –õ—É—á—à–µ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–µ–ø–ª–æ—è (–Ω–µ root)
- ‚úÖ –î–∞—Ç—å –µ–º—É sudo –ø—Ä–∞–≤–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è –¥–ª—è docker –∫–æ–º–∞–Ω–¥

**–°–æ–∑–¥–∞–Ω–∏–µ deploy –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ—Ç root)
useradd -m -s /bin/bash deploy
usermod -aG docker deploy
usermod -aG sudo deploy

# –†–∞–∑—Ä–µ—à–∏—Ç—å sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è –¥–ª—è docker
echo "deploy ALL=(ALL) NOPASSWD: /usr/bin/docker" | sudo tee /etc/sudoers.d/deploy
```

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
deploy
```
–∏–ª–∏
```
root
```

---

### 5. `SSH_PRIVATE_KEY` - SSH Private Key

**–ß—Ç–æ —ç—Ç–æ:**
–ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –±–µ–∑ –ø–∞—Ä–æ–ª—è.

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
cat ~/.ssh/id_rsa
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –≤—ã–≤–æ–¥** (–≤–∫–ª—é—á–∞—è `-----BEGIN OPENSSH PRIVATE KEY-----` –∏ `-----END OPENSSH PRIVATE KEY-----`)

**–í–ê–ñ–ù–û:** –≠—Ç–æ –ü–†–ò–í–ê–¢–ù–´–ô –∫–ª—é—á, —Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ —Å–µ–∫—Ä–µ—Ç–µ!

#### –í–∞—Ä–∏–∞–Ω—Ç B: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á –¥–ª—è GitHub Actions

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª—é—á —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è CI/CD:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π SSH –∫–ª—é—á –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
ssh-keygen -t ed25519 -C "github-actions-deploy" -f ~/.ssh/github_actions_deploy

# –ù–ï —É–∫–∞–∑—ã–≤–∞–π—Ç–µ passphrase (–ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ Enter)
# Passphrase: [Enter]
# Passphrase again: [Enter]

# 2. –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–¥–ª—è GitHub Secret)
cat ~/.ssh/github_actions_deploy

# 3. –ü–æ–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
cat ~/.ssh/github_actions_deploy.pub
```

**–ö–æ–ø–∏—Ä—É–µ–º –ü–†–ò–í–ê–¢–ù–´–ô –∫–ª—é—á** (`~/.ssh/github_actions_deploy`) –¥–ª—è GitHub Secret.

**–î–æ–±–∞–≤–ª—è–µ–º –ü–£–ë–õ–ò–ß–ù–´–ô –∫–ª—é—á** –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/github_actions_deploy.pub
# –í—ã–≤–æ–¥: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI... github-actions-deploy

# –ó–∞–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh user@your-server

# –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys
mkdir -p ~/.ssh
chmod 700 ~/.ssh
echo "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI... github-actions-deploy" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
exit

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º –∫–ª—é—á–æ–º
ssh -i ~/.ssh/github_actions_deploy user@your-server
```

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW
QyNTUxOQAAACBqL6V9FJvP8LdN0KlRtEJ8YCJSvqGwK1R0KXlPQZXBPwAAAJh8+5g/fPuY
PwAAAAtzc2gtZWQyNTUxOQAAACBqL6V9FJvP8LdN0KlRtEJ8YCJSvqGwK1R0KXlPQZXBPw
AAAEDt0+f0BQlL0xA7U8jQ0Fw1k1UqQbJD9+XzN8tYqL6V9FJvP8LdN0KlRtEJ8YCJSvq
GwK1R0KXlPQZXBPwAAAA...
-----END OPENSSH PRIVATE KEY-----
```

**–í–ê–ñ–ù–û:**
- –ö–æ–ø–∏—Ä—É–π—Ç–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é**, –≤–∫–ª—é—á–∞—è –∑–∞–≥–æ–ª–æ–≤–∫–∏ `-----BEGIN...` –∏ `-----END...`
- –≠—Ç–æ **–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ
- –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–æ–±–µ–ª—ã –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤—Ä—É—á–Ω—É—é

---

## üîí –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ Secrets

### 6. `CODECOV_TOKEN` - Codecov Upload Token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ß—Ç–æ —ç—Ç–æ:**
–¢–æ–∫–µ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ code coverage –æ—Ç—á—ë—Ç–æ–≤ –Ω–∞ codecov.io.

**–ù—É–∂–Ω–æ –ª–∏:**
- ‚ùå –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Codecov
- ‚úÖ –ù—É–∂–Ω–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

**–û—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://codecov.io/
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ Settings —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ GitHub Secret:**
```
abc123def456ghi789jkl...
```

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker Hub

1. ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://hub.docker.com/
2. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ Access Token (Security ‚Üí Access Tokens)
3. ‚úÖ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ username –∏ token

### –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ SSH –∫–ª—é—á–∞

**–í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π**
```bash
cat ~/.ssh/id_rsa
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á
ssh-keygen -t ed25519 -C "github-actions" -f ~/.ssh/github_deploy

# –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id -i ~/.ssh/github_deploy.pub user@server

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
cat ~/.ssh/github_deploy.pub
# –ó–∞—Ç–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
echo "–ü–£–ë–õ–ò–ß–ù–´–ô_–ö–õ–Æ–ß" >> ~/.ssh/authorized_keys
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Secrets –≤ GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://github.com/YOUR_USERNAME/YOUR_REPO/settings/secrets/actions`

2. –ù–∞–∂–º–∏—Ç–µ **New repository secret** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ:

   | Name | Value | –û—Ç–∫—É–¥–∞ |
   |------|-------|--------|
   | `DOCKER_USERNAME` | `melxiory` | Docker Hub username |
   | `DOCKER_PASSWORD` | `dckr_pat_1a2b...` | Docker Hub Access Token |
   | `SERVER_HOST` | `157.230.12.34` | IP —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –¥–æ–º–µ–Ω |
   | `SERVER_USER` | `deploy` | SSH username |
   | `SSH_PRIVATE_KEY` | `-----BEGIN...` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á |
   | `CODECOV_TOKEN` | `abc123...` | (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Codecov token |

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ secret:
   - –í–≤–µ–¥–∏—Ç–µ **Name** (—Ç–æ—á–Ω–æ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ)
   - –í–≤–µ–¥–∏—Ç–µ **Value** (–≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
   - –ù–∞–∂–º–∏—Ç–µ **Add secret**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö secrets, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∏—Ö –≤ —Å–ø–∏—Å–∫–µ (–∑–Ω–∞—á–µ–Ω–∏—è —Å–∫—Ä—ã—Ç—ã).

**–ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É—è –≤–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
ssh -i ~/.ssh/github_deploy deploy@157.230.12.34

# –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, GitHub Actions —Ç–æ–∂–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CI/CD

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Test Workflow

1. –°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–π –∫–æ–º–º–∏—Ç –≤ –≤–µ—Ç–∫—É `develop`:
   ```bash
   git add .
   git commit -m "test: trigger CI/CD"
   git push origin develop
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://github.com/YOUR_USERNAME/YOUR_REPO/actions`

3. –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è **Tests** workflow
   - –ï—Å–ª–∏ –∑–µ–ª—ë–Ω—ã–π ‚úÖ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–π ‚ùå - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Deploy Workflow

1. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç –≤ –≤–µ—Ç–∫—É `main`:
   ```bash
   git checkout main
   git merge develop
   git push origin main
   ```

2. –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è **Deploy** workflow
   - –ï—Å–ª–∏ –∑–µ–ª—ë–Ω—ã–π ‚úÖ - –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
   - –ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–π ‚ùå - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å SSH –∏–ª–∏ Docker)

---

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. "Permission denied (publickey)"

**–ü—Ä–æ–±–ª–µ–º–∞:** SSH –∫–ª—é—á –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ authorized_keys –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh user@server
cat ~/.ssh/authorized_keys

# –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∏–∑ SSH_PRIVATE_KEY
```

### 2. "docker: command not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ –≥—Ä—É–ø–ø–µ docker.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo usermod -aG docker $USER
# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
```

### 3. "Load key: invalid format"

**–ü—Ä–æ–±–ª–µ–º–∞:** SSH_PRIVATE_KEY —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫).

**–†–µ—à–µ–Ω–∏–µ:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∑–∞–Ω–æ–≤–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã —Å—Ç—Ä–æ–∫–∏ `-----BEGIN...` –∏ `-----END...`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### 4. "Authentication failed" (Docker Hub)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π DOCKER_PASSWORD –∏–ª–∏ username.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ DOCKER_USERNAME - —ç—Ç–æ username, –∞ –Ω–µ email
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Access Token –Ω–∞ Docker Hub

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚úÖ –î–µ–ª–∞–π—Ç–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Access Tokens –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ SSH –∫–ª—é—á–∏ –¥–ª—è CI/CD
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∞ deploy –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ docker –∫–æ–º–∞–Ω–¥—ã)
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã

**‚ùå –ù–µ –¥–µ–ª–∞–π—Ç–µ:**
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ secrets –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–µ–ø–ª–æ—è
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω SSH –∫–ª—é—á –¥–ª—è –≤—Å–µ–≥–æ
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ secrets –≤ –ª–æ–≥–∞—Ö

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] Docker Hub account —Å–æ–∑–¥–∞–Ω
- [ ] Docker Hub Access Token —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω/–≤—ã–±—Ä–∞–Ω
- [ ] –ü—É–±–ª–∏—á–Ω—ã–π SSH –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –í—Å–µ 5 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö secrets –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
- [ ] Test workflow –∑–∞–ø—É—â–µ–Ω –∏ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ
- [ ] Deploy workflow –∑–∞–ø—É—â–µ–Ω –∏ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ

---

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** –ö–∞–∂–¥—ã–π push –≤ `main` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ production —Å–µ—Ä–≤–µ—Ä! üöÄ

**–°–º. —Ç–∞–∫–∂–µ:**
- [deploy.yml](./.github/workflows/deploy.yml) - Deployment workflow
- [test.yml](./.github/workflows/test.yml) - Test workflow
- [PHASE_4_SUMMARY.md](./PHASE_4_SUMMARY.md) - Phase 4 overview
